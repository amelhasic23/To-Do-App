(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppState=void 0;class AppState{constructor(){this.subscribers=[],this.subscribers2=[],this.switchers=[]}subscribe(t){this.subscribers.push(t)}create(t){this.task=t,this.notify()}notify(){for(let t of this.subscribers)t.update(this.task)}subscribe2(t){this.subscribers2.push(t)}create2(t){this.task=t,this.notify2()}notify2(){for(let t of this.subscribers2)t.update(this.task)}mark(t){this.switchers.push(t)}take(t){this.task=t,this.replaceIt()}replaceIt(){for(let t of this.switchers)t.update(this.task)}scheduler(t,s,e){this.in=e,setInterval(()=>{t<Date.now()&&!1===e.checked&&(this.take(s),this.taskChecked(s))},1e3)}taskChecked(t){let s=t.querySelectorAll("input");for(let t of s)null==t||t.setAttribute("checked","true"),null==t||t.setAttribute("disabled","true")}}AppState.state=new AppState,exports.AppState=AppState},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const AppState_1=require("./AppState"),ToDoForm_1=require("./components/ToDoForm"),ToDoTask_1=require("./components/ToDoTask"),divApp=document.querySelector("#app"),forma=new ToDoForm_1.ToDoForm;forma.addTo(divApp);const naslov=document.createElement("h1");naslov.innerHTML="MY TASKS",divApp.append(naslov);const podDiv=document.createElement("div");podDiv.classList.add("pod_div"),divApp.append(podDiv);const unscheduled=new ToDoTask_1.UnscheduledTask("");AppState_1.AppState.state.subscribe(unscheduled),unscheduled.addTo(podDiv);const scheduled=new ToDoTask_1.ScheduledTask("","");AppState_1.AppState.state.subscribe2(scheduled),scheduled.addTo(podDiv);const completed=new ToDoTask_1.CompletedTasks("");AppState_1.AppState.state.mark(completed),completed.addTo(podDiv)},{"./AppState":1,"./components/ToDoForm":4,"./components/ToDoTask":5}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToDoComponent=void 0;const AppState_1=require("../AppState");class ToDoComponent{constructor(){this.taskDiv=document.createElement("div"),this.taskH2=document.createElement("h2"),this.taskBtn=document.createElement("button"),this.taskBtn.innerHTML="Delete",this.taskCompleted=document.createElement("input"),this.taskCompleted.setAttribute("type","checkbox"),this.label=document.createElement("label"),this.label.innerHTML="Completed",this.taskDiv.append(this.taskH2),this.taskDiv.append(this.taskBtn),this.taskDiv.append(this.taskCompleted),this.taskDiv.append(this.label),this.taskBtn.addEventListener("click",()=>{this.taskDiv.remove()}),this.taskCompleted.addEventListener("change",()=>{!0===this.taskCompleted.checked&&(AppState_1.AppState.state.take(this.taskDiv),this.taskCompleted.setAttribute("disabled","true"))})}}exports.ToDoComponent=ToDoComponent},{"../AppState":1}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToDoForm=void 0;const AppState_1=require("../AppState"),ToDoComponent_1=require("./ToDoComponent"),ToDoTask_1=require("./ToDoTask");class ToDoForm{constructor(){this.div=document.createElement("div"),this.div.classList.add("form_div"),this.naziv=document.createElement("input"),this.naziv.setAttribute("type","text"),this.naziv.setAttribute("placeholder","Naziv zadatka"),this.pNaziv=document.createElement("p"),this.pNaziv.style.color="red",this.checkB=document.createElement("input"),this.checkB.setAttribute("type","checkbox"),this.checkB.setAttribute("id","check"),this.checkB.classList.add("check"),this.label=document.createElement("label"),this.label.setAttribute("for","check"),this.label.innerHTML="čekirajte ukoliko imate rok",this.vreme=document.createElement("input"),this.vreme.setAttribute("type","text"),this.vreme.setAttribute("placeholder","MM/DD/GGGG/ČČ:MM"),this.pVreme=document.createElement("p"),this.pVreme.style.color="red",this.div.append(this.naziv),this.div.append(this.pNaziv),this.div.append(this.checkB),this.div.append(this.label),this.checkB.onchange=(()=>{!0===this.checkB.checked?(this.div.insertBefore(this.vreme,this.btn),this.div.insertBefore(this.pVreme,this.btn)):(this.vreme.remove(),this.pVreme.remove())}),this.btn=document.createElement("button"),this.btn.innerText="Dodaj",this.btn.classList.add("add"),this.div.append(this.btn),this.btn.addEventListener("click",()=>{this.pNaziv.innerHTML="";let e=this.naziv.value,t=this.vreme.value;if(""===e.trim())throw this.pNaziv.innerHTML="Polje ne može biti prazno, unesite naziv zadatka!",new Error;if(!1===this.checkB.checked){let t=new ToDoTask_1.Task(e);this.naziv.value="",this.naziv.setAttribute("placeholder","Naziv zadatka"),this.vreme&&(this.vreme.value="",this.vreme.setAttribute("placeholder","MM/DD/GGGG/ČČ:MM"));let i=new ToDoComponent_1.ToDoComponent;for(let[e,s]of t.map)i.taskH2.innerHTML=`<p>${e}.  ${s}</p>`;AppState_1.AppState.state.create(i.taskDiv)}if(!0===this.checkB.checked){if(this.pVreme.innerHTML="",16!==t.trim().length)throw this.pVreme.innerHTML="Polje mora imati tačno 16 karaktera, u formatu MM/DD/GGGG/ČČ:MM",new Error;let i=new ToDoTask_1.ScheduledTask(e,t);this.naziv.value="",this.naziv.setAttribute("placeholder","Naziv zadatka"),this.vreme&&(this.vreme.value="",this.vreme.setAttribute("placeholder","MM/DD/GGGG/ČČ:MM"));let s=new ToDoComponent_1.ToDoComponent;for(let[e,t]of i.map)s.taskH2.innerHTML=`<p>${e}.  ${t}; deadline: ${i.time} </p>`,s.timer=Date.parse(i.time),AppState_1.AppState.state.scheduler(s.timer,s.taskDiv,s.taskCompleted);AppState_1.AppState.state.create2(s.taskDiv)}})}addTo(e){e.append(this.div)}}exports.ToDoForm=ToDoForm},{"../AppState":1,"./ToDoComponent":3,"./ToDoTask":5}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompletedTasks=exports.ScheduledTask=exports.UnscheduledTask=exports.Task=void 0;class Task{constructor(s){this.map=new Map,this.id=Task.count,Task.count++,this.task=s,this.mainDiv=document.createElement("div"),this.h1=document.createElement("h1"),this.mainDiv.append(this.h1),this.map.set(this.id,this.task)}addTo(s){s.append(this.mainDiv)}update(s){}}Task.count=-2,exports.Task=Task;class UnscheduledTask extends Task{constructor(s){super(s),this.mainDiv.classList.add("un_div"),this.h1.innerHTML="Unscheduled Tasks"}update(s){this.mainDiv.append(s)}}exports.UnscheduledTask=UnscheduledTask;class ScheduledTask extends Task{constructor(s,e){super(s),this.mainDiv.classList.add("un_div"),this.h1.innerHTML="Scheduled Tasks",this.time=e}update(s){this.mainDiv.append(s)}}exports.ScheduledTask=ScheduledTask;class CompletedTasks extends Task{constructor(s){super(s),this.mainDiv.classList.add("un_div"),this.h1.innerHTML="Completed Tasks"}update(s){this.mainDiv.append(s)}}exports.CompletedTasks=CompletedTasks},{}]},{},[2]);
//# sourceMappingURL=app.bundle.js.map
//# sourceMappingURL=app.bundle.js.map